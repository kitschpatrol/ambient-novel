<script lang="ts">
	import { base } from '$app/paths'
	import Header from '$lib/components/Header.svelte'
	import Starfield from '$lib/components/Starfield.svelte'
	import { onMount } from 'svelte'
	import { fade } from 'svelte/transition'
	// Import OpenSourceCredits from '$lib/components/OpenSourceCredits.svelte';
	// import licenseDataRaw from '$lib/data/licenses.json';
	// import { licenseSchema } from '$lib/schemas/licenses-schema';
	// const licenseData = licenseSchema.parse(licenseDataRaw);
	let isMounted = false
	onMount(() => {
		isMounted = true
	})
</script>

<svelte:head>
	<title>About ‚Äî The Valentine Mob</title>
	<style>
		/* all the fixed position hacks (like ::before) are subtly broken */
		body,
		html {
			position: static;
			overflow-y: auto;
			overscroll-behavior: unset;
			background: linear-gradient(
					var(--background-color-gradient-1) 0%,
					var(--background-color-gradient-2) 100%
				)
				var(--background-color-gradient-1);
		}
	</style>
</svelte:head>

<Header
	--height="calc(100svh / 12)"
	--position="fixed"
	--shadow="-10px 25px 50px 0px rgba(0, 0, 0, 0.2)"
/>

{#if isMounted}
	<div class="star-wrapper" transition:fade={{ delay: 250, duration: 3000 }}>
		<Starfield
			--height="calc(100svh - (100svh / 12))"
			--position="fixed"
			--top="calc(100svh / 12)"
			color="#ffffff"
			maxParticlesDesktop={80}
			maxParticlesMobile={20}
			planetSpeed={0.1}
			starRotationSpeed={1}
			starSpeed={0.2}
			strokeEnabled={false}
		/>
	</div>
{/if}

<main
	class="mx-auto mb-20 mt-36 max-w-[70ch] bg-[#f7f7f7] bg-opacity-90 px-12 pb-8 pt-3 font-serif text-xl text-[#222222] max-sm:mx-auto max-sm:mb-16 max-sm:mt-24 max-sm:w-[90vw] max-sm:px-5 max-sm:text-xl"
>
	<h2>About the Project</h2>
	<h3>
		<span class="emoji">üóù</span>
		The story
	</h3>
	<p>
		Two friends on vacation become entangled with an eccentric troupe of cosmic artists who call
		themselves The Valentine Mob. A series of interdimensional mishaps and a missing artifact lead
		them to The Artist, who lets them in on a secret and leaves the pair‚Äâ‚Äî‚Äâand the
		reader‚Äâ‚Äî‚Äâquestioning their role in the process and product of story and art.
	</p>
	<h3>
		<span class="emoji">üé±</span>
		What is an ambient novel?
	</h3>
	<p>
		For years, while writing or working I have listened to ambient music‚Äâ‚Äî‚Äâfrom barely perceptible
		natural soundscapes to monastic chants to cacophonies of experimental noise. One day, I
		wondered: What would an <em>ambient novel</em>
		be like? How might a written text function similarly to an ambient track? What if a reader were explicitly
		invited to experience that text in the ways we often listen to ambient music‚Äâ‚Äî‚Äâas mood-setting, interactive
		without interrupting, part of some larger whole?
	</p>
	<p>
		On a whim, I fed the words ‚ÄúThe Ambient Novel‚Äù into an anagram generator. From among the
		results, the phrase ‚ÄúThe Valentine Mob‚Äù leaped out at me. I pictured a group of artists who
		collectively went by that moniker. And there it was: The Valentine Mob would author the ambient
		novel, not me. They would guide the reader to it, and the trip would transform the text itself
		into a contemplative tool.
	</p>
	<p>
		As the story took form, I began to envision the ambient novel as an audiobook with its own
		ambient music backing track‚Äâ‚Äî‚Äâcoming full circle from sonic to textual back to sonic, and with
		some interactive aspect. Talented collaborators jumped in to create the backing track, record
		the text, and build a website.
	</p>
	<p>
		You can experience the tracks or chapters of The Valentine Mob in any order you choose, scrub
		them forward or backward, even play multiple tracks at once. You control the experience. But if
		you want our suggestion, it‚Äôs this: Try listening to the story once all the way through, then go
		back and play with it, building your own rhythms and layers. As you do, you‚Äôll extend the story
		beyond the single linear thread of the given narrative and create your own compositions.
	</p>
	<p>
		And then <em>you</em>
		will be part of The Valentine Mob.
	</p>
	<p>Welcome.</p>

	<h3>
		<span class="emoji">ü¶ä</span>
		Credits
	</h3>

	<p class="max-[480px]:text-base">
		<a href="https://39forks.com/" rel="noopener noreferrer" target="_blank">Scott Wayne Indiana</a>
		‚Äî
		<i>author and narrator</i>
		<br />
		<a href="https://casinowitch.bandcamp.com" rel="noopener noreferrer" target="_blank">
			Alex McCarl
		</a>
		‚Äî
		<i>original ambient tracks</i>
		<br />
		Mike Budd ‚Äî
		<i>audio recording and mixing</i>
		<br />
		<a href="https://ericmika.com" rel="noopener noreferrer" target="_blank">Eric Mika</a>
		‚Äî
		<i>website (<a href="https://github.com/kitschpatrol/ambient-novel">source code</a>)</i>
	</p>
	<!-- prettier-ignore -->
	<p class="mt-[4em] text-base">
		<em>
			The Valentine Mob website should work anywhere, but it is best experienced with a pair of
			headphones and a desktop or laptop computer running <a
				href="https://www.google.com/chrome/"
				rel="noopener noreferrer"
				target="_blank"
			>Chrome</a>. If you run into technical issues, please
			<a href="mailto:swift.rain6251@fastmail.com">let us know</a>.
		</em>
	</p>
</main>
<img
	alt="heart"
	class="heart mx-auto mb-16 w-[10vw] max-w-[4rem] pb-16 opacity-90"
	src="{base}/heart.svg"
/>

<style lang="postcss">
	div.star-wrapper {
		pointer-events: none;
		touch-action: none;
		opacity: 0.3;
	}

	main {
		position: relative;
		z-index: 4;
		line-height: 1.75em;
		box-shadow: 0 3px 9px #0000005f;
	}

	.emoji {
		font-style: normal;
	}

	main p {
		margin-bottom: 1em;
	}

	main h2 {
		@apply pb-3 pt-6 text-3xl font-normal;
	}

	main h3 {
		@apply pb-3 pt-6 text-2xl font-medium italic;
	}

	main a {
		text-decoration: underline;
		text-decoration-color: rgb(0 0 0 / 25%);
		text-decoration-style: dotted;
		text-decoration-thickness: 0.1em;
		text-underline-offset: 0.2em;
	}

	main a:hover {
		text-decoration: underline;
		text-decoration-color: rgb(0 0 0 / 100%);
		text-decoration-style: solid;
		text-decoration-thickness: 0.1em;
		text-underline-offset: 0.2em;
	}

	img.heart {
		/* doing the shadow in svg causes blur in mobile safari */
		filter: drop-shadow(-2px 3px 5px #000000b0);
	}
</style>
